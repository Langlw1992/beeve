---
title: Button 按钮
description: 用于触发操作的按钮组件
---

import { ButtonVariants, ButtonSizes, ButtonDisabled, ButtonLoading, ButtonWithIcon, ButtonGroup } from '../../../components/ButtonDemo'
import ComponentPreview from '../../../components/ComponentPreview.astro'

Button 组件用于触发一个操作或事件，如提交表单、打开对话框、取消操作或执行删除操作。

## 何时使用

- 标记一个（或封装一组）操作命令
- 响应用户点击后触发相应的业务逻辑

## 设计指南

- 一个页面只应该有一个 Primary 按钮
- 同一区域不宜放置超过 3 个按钮
- 危险操作按钮应使用 `destructive` 变体

## 按钮变体

提供 6 种变体样式，适用于不同场景：

| 变体 | 使用场景 |
|------|----------|
| `primary` | 主要操作，一个页面通常只有一个 |
| `secondary` | 次要操作，用于辅助功能 |
| `outline` | 带边框按钮，低强调的操作 |
| `ghost` | 幽灵按钮，最低视觉强调 |
| `destructive` | 危险操作，如删除 |
| `link` | 链接样式，看起来像超链接 |

<ComponentPreview>
  <ButtonVariants client:only="solid-js" />
</ComponentPreview>

```tsx
import { Button } from '@beeve/ui'

<Button variant="primary">Primary</Button>
<Button variant="secondary">Secondary</Button>
<Button variant="outline">Outline</Button>
<Button variant="ghost">Ghost</Button>
<Button variant="destructive">Destructive</Button>
<Button variant="link">Link</Button>
```

## 按钮尺寸

提供 4 种尺寸：

| 尺寸 | 说明 |
|------|------|
| `sm` | 小按钮，用于紧凑空间 |
| `md` | 默认尺寸 |
| `lg` | 大按钮，用于强调 |
| `icon` | 图标按钮，正方形 |

<ComponentPreview class="items-center">
  <ButtonSizes client:only="solid-js" />
</ComponentPreview>

```tsx
<Button size="lg">Large</Button>
<Button size="md">Medium</Button>
<Button size="sm">Small</Button>
<Button size="icon">
  <PlusIcon />
</Button>
```

## 禁用状态

设置 `disabled` 属性禁用按钮，按钮将变为半透明且不可点击。

<ComponentPreview>
  <ButtonDisabled client:only="solid-js" />
</ComponentPreview>

```tsx
<Button disabled>Primary</Button>
<Button variant="secondary" disabled>Secondary</Button>
<Button variant="outline" disabled>Outline</Button>
<Button variant="destructive" disabled>Destructive</Button>
```

## 加载状态

设置 `loading` 属性显示加载动画，按钮将禁用交互并显示旋转图标。常用于异步操作（如提交表单）时的反馈。

<ComponentPreview>
  <ButtonLoading client:only="solid-js" />
</ComponentPreview>

```tsx
import { createSignal } from 'solid-js'

function SubmitButton() {
  const [loading, setLoading] = createSignal(false)

  const handleClick = async () => {
    setLoading(true)
    await submitForm()
    setLoading(false)
  }

  return (
    <Button loading={loading()} onClick={handleClick}>
      {loading() ? '提交中...' : '提交'}
    </Button>
  )
}
```

## 带图标按钮

可以在按钮中添加图标，图标可以放在文字前面或后面。Button 组件内置了 `gap-2` 间距，图标与文字会自动保持适当间距。

<ComponentPreview>
  <ButtonWithIcon client:only="solid-js" />
</ComponentPreview>

```tsx
<Button>
  <PlusIcon class="size-4" />
  新建
</Button>

<Button variant="outline">
  <UploadIcon class="size-4" />
  上传
</Button>

<Button variant="secondary">
  设置
  <ChevronRightIcon class="size-4" />
</Button>

<Button variant="destructive">
  <TrashIcon class="size-4" />
  删除
</Button>
```

## 按钮组合

常见的按钮组合模式。

<ComponentPreview>
  <ButtonGroup client:only="solid-js" />
</ComponentPreview>

```tsx
{/* 确认/取消 */}
<div class="flex gap-3">
  <Button variant="outline">取消</Button>
  <Button>确定</Button>
</div>

{/* 表单提交 */}
<div class="flex gap-3">
  <Button variant="ghost">重置</Button>
  <Button variant="outline">保存草稿</Button>
  <Button>提交</Button>
</div>

{/* 危险操作 */}
<div class="flex gap-3">
  <Button variant="outline">取消</Button>
  <Button variant="destructive">确认删除</Button>
</div>
```

## 表单中使用

在表单中使用时，可以通过 `type` 属性指定按钮类型。

```tsx
<form onSubmit={handleSubmit}>
  <input type="text" name="username" />

  {/* 提交按钮 */}
  <Button type="submit">提交</Button>

  {/* 重置按钮 */}
  <Button type="reset" variant="outline">重置</Button>

  {/* 普通按钮（默认） */}
  <Button type="button" variant="ghost">取消</Button>
</form>
```

## API

### Props

| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `variant` | `'primary' \| 'secondary' \| 'outline' \| 'ghost' \| 'destructive' \| 'link'` | `'primary'` | 按钮变体样式 |
| `size` | `'sm' \| 'md' \| 'lg' \| 'icon'` | `'md'` | 按钮尺寸 |
| `loading` | `boolean` | `false` | 加载状态，显示旋转图标并禁用交互 |
| `disabled` | `boolean` | `false` | 禁用状态 |
| `type` | `'button' \| 'submit' \| 'reset'` | `'button'` | 原生 button 类型 |
| `class` | `string` | - | 自定义 CSS 类名 |
| `classList` | `Record<string, boolean \| undefined>` | - | 条件类名对象 |
| `style` | `JSX.CSSProperties` | - | 内联样式 |
| `title` | `string` | - | 鼠标悬停提示文本 |
| `children` | `JSX.Element` | - | 按钮内容 |
| `onClick` | `(e: MouseEvent) => void` | - | 点击事件回调 |

此外，Button 还支持所有原生 `<button>` 元素的属性。

### 样式定制

Button 使用 `tailwind-variants` 定义样式，可以通过 `class` 属性覆盖默认样式：

```tsx
{/* 自定义宽度 */}
<Button class="w-full">全宽按钮</Button>

{/* 自定义颜色 */}
<Button class="bg-purple-600 hover:bg-purple-700">自定义颜色</Button>

{/* 条件类名 */}
<Button classList={{ 'animate-pulse': isHighlighted() }}>
  条件样式
</Button>
```

### 键盘交互

| 按键 | 描述 |
|------|------|
| `Enter` | 触发按钮点击 |
| `Space` | 触发按钮点击 |
| `Tab` | 移动焦点到下一个可聚焦元素 |

### 无障碍

- Button 组件使用原生 `<button>` 元素，天然支持键盘导航和屏幕阅读器
- 禁用状态下会自动设置 `disabled` 属性
- 加载状态下也会禁用交互，防止重复提交
- 图标按钮建议添加 `title` 属性或 `aria-label` 提供文字说明
